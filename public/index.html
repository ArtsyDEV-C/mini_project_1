<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Project</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com">
</head>
<body>
    <img src="/images/background.jpg" alt="Background Image">
    <!-- Header Section -->
    <header>
        <video src="videos/logo.mp4" autoplay loop muted id="logo-video"></video>
        <h1 class="website-title">Neko Global Weather 2</h1>
    </header>

    <!-- User Authentication Section -->
    <div class="auth-container">
        <!-- Registration Form -->
        <div class="auth-form">
            <h2>Register</h2>
            <form id="register-form" method="POST" action="/register">
                <input type="text" name="username" placeholder="Username" required class="form-control mb-2">
                <input type="password" name="password" placeholder="Password" required class="form-control mb-2">
                <button type="submit" class="btn btn-primary btn-block">Register</button>
            </form>
        </div>

        <!-- Login Form -->
        <div class="auth-form">
            <h2>Login</h2>
            <form id="login-form" method="POST" action="/login">
                <input type="text" name="username" placeholder="Username" required class="form-control mb-2">
                <input type="password" name="password" placeholder="Password" required class="form-control mb-2">
                <button type="submit" class="btn btn-primary btn-block">Login</button>
            </form>
        </div>
    </div>

    <!-- Google Sign-In Button -->
    <div class="g-signin2" data-onsuccess="onSignIn"></div>

    <!-- Profile Section -->
    <div id="profile-section">
        <h2>User Profile</h2>
        <img id="profile-picture" src="/images/default-profile.png" alt="Profile Picture">
        <form id="profile-form">
            <input type="file" id="profile-picture-input" accept="image/*">
            <button type="submit">Upload</button>
        </form>
    </div>

    <!-- Search Bar Section -->
    <div class="search-bar">
        <input type="text" id="search-input" placeholder="Enter city..." autocomplete="off">
        <button id="search-button">Search</button>
        <video src="videos/search.mp4" autoplay loop muted id="search-video"></video>
    </div>

    <!-- Current Weather Section -->
    <div class="weather-container">
        <div id="city-name" class="weather-info"></div>
        <div id="date-time" class="weather-info"></div>
        <div id="weather-icon" class="weather-info"></div>
        <div id="weather-temperature" class="weather-info"></div>
        <div id="weather-description" class="weather-info"></div>

        <!-- Weather Stats -->
        <div class="weather-stats">
            <div><strong>Wind Speed:</strong> <span id="wind-speed"></span></div>
            <div><strong>Humidity:</strong> <span id="humidity"></span></div>
            <div><strong>UV Index:</strong> <span id="uv-index"></span></div>
            <div><strong>Pressure:</strong> <span id="pressure"></span></div>
            <div><strong>Sunrise:</strong> <span id="sunrise"></span></div>
            <div><strong>Sunset:</strong> <span id="sunset"></span></div>
            <div><strong>Local Time:</strong> <span id="local-time"></span></div>
            <div><strong>IST Time:</strong> <span id="ist-time"></span></div>
        </div>
    </div>

    <!-- Save City Section -->
    <div class="save-city-container">
        <h2>Save City</h2>
        <form id="save-city-form" method="POST" action="/cities">
            <input type="text" name="city" placeholder="City Name" required>
            <button type="submit">Save City</button>
        </form>
    </div>

    <!-- 10-Day Forecast Section -->
    <div id="forecast" class="forecast-container"></div>

    <!-- Recommendations Section -->
    <div id="recommendations"></div>

    <!-- Disaster Warnings Section -->
    <div id="disaster-warnings"></div>

    <!-- Travel Suggestions Section -->
    <div id="travel-suggestions" class="travel-suggestions-container"></div>

    <!-- Map Section -->
    <div id="map" style="height: 500px; border-radius: 10px; margin-top: 20px;"></div>

    <!-- Video and Music Section -->
    <video id="weather-video" width="100%" height="auto" muted autoplay loop src="videos/default.mp4"></video>
    <audio id="weather-music" loop></audio>
    <button id="play-music">Play Music</button>
    <button id="voice-command" class="btn btn-info mt-3">Voice Command</button>

    <!-- Chat Section -->
    <div id="chat-container">
        <div id="chatbox" class="chatbox"></div>
        <input type="text" id="chat-input" placeholder="Ask me anything...">
        <button id="send-btn">Send</button>
    </div>

    <!-- Loading Spinner -->
    <div id="loading" class="loading-spinner" style="display: none;">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <!-- Footer -->
    <footer>
        <video src="videos/contact.mp4" autoplay loop muted id="contact-video"></video>
        <p>Powered by OpenWeatherMap</p>
        <p>Contact: shreejithisdumb@gmail.com | Phone: 7904106363</p>
    </footer>

    <script src="/js/script.js"></script>
    <script src="script.js"></script>
    <script src="chatbot.js"></script>
    <script>
        // Example of how to use the suggested code change
        const weatherIcon = document.getElementById('weather-icon');
        const weather = { icon: '01d' }; // Example weather data
        weatherIcon.innerHTML = `<img src="https://openweathermap.org/img/wn/${weather.icon}.png" alt="Weather Icon">`;
    </script>
</body>
</html>